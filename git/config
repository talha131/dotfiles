[user]
	name = Talha
	email = talha131@gmail.com
	signingkey = 561E6373A1B75589791E589D002B80DA805650B7

# Work account (Jump Desktop)
[includeIf "gitdir:~/Developer/talha@jumpdesktop.com/"]
    path = ~/Developer/dotfiles/git/config-work

[core]
    quotepath = false
    whitespace=fix,-indent-with-non-tab,trailing-space,cr-at-eol
    excludesfile = ~/Developer/dotfiles/git/gitignore
    trustctime = false
    pager = less -x1,5
	editor = nvim
	autocrlf = input
[color]
    ui = auto
[color "branch"]
    current = green
    local = magenta
    remote = yellow
[color "diff"]
    meta = yellow bold
    frag = magenta
    old = red
    new = green
    whitespace = white reverse
    commit = blue reverse
[color "status"]
    added = yellow
    changed = green
    untracked = cyan reverse
    branch = magenta
[push]
    default = simple
    autoSetupRemote = true
[alias]
    ap = add -p
    ai = add -i

    # Show file at revision with syntax highlighting: git shw v0.6.0:src/main.rs
    shw = "!f() { git show \"$1\" | bat -l \"${1##*.}\"; }; f"

    br = branch -vv
    # All branches
    brl = branch -a
    # Merged branches
    brm = branch -a --merged
    # Clean merged branches (prunes stale remotes, deletes local and remote)
    brmcl = "!git fetch --prune && git branch --no-color --merged | grep -v master | grep -v next | xargs -I % sh -c 'git branch -d %; git push --delete origin % 2>/dev/null || true'"
    # Unmerged branches
    bru = branch -a --no-merged
    brd = !sh -c 'git branch -D $1 && git push --delete origin $1' -

    c = commit -v
    ca = !git c -a
    caa = !git c -a --amend
    ce = !git c --amend

    # Switch branch
    sw = switch
    # Switch and create branch
    swc = switch -c
    # Switch to master branch
    swm = switch master

    d = diff
    dc = diff --cached

    # One line logs (merge commits highlighted in magenta)
    l = "!source ~/.config/git/githelper && pretty_git_log"
    # Log with stats
    ls = "!source ~/.config/git/githelper && pretty_git_log --stat"
    # Log with graph
    lg = "!source ~/.config/git/githelper && pretty_git_log --graph --topo-order"
    # Log with patch
    lp = "!source ~/.config/git/githelper && pretty_git_log --patch"

    # List files with merge conflicts
    mcon = "diff --name-only --diff-filter=U"
    # Merge origin/master into master (fails if not on master)
    mo = "!f() { [ \"$(git rev-parse --abbrev-ref HEAD)\" = master ] || { echo 'Error: Not on master branch'; exit 1; }; git pull --ff-only origin master; }; f"
    # Merge upstream/master into master and push (fails if not on master)
    mu = "!f() { [ \"$(git rev-parse --abbrev-ref HEAD)\" = master ] || { echo 'Error: Not on master branch'; exit 1; }; git pull --ff-only upstream master && git push; }; f"

    s = status --short --branch
    # Stash list
    stl = stash list
    # Undo last commit (keeps changes unstaged)
    undo = reset HEAD~1
    # Unstage files
    unstage = restore --staged
    # Discard unstaged changes
    discard = restore :/

[merge]
    conflictstyle = merge
[diff]
	algorithm = patience
	compactionHeuristic = true
[pager]
    branch = false
    stash = false
	log = diffr   | less
	show = diffr  | less
	diff = diffr  | less
[interactive]
	diffFilter = diffr
[filter "lfs"]
	clean = git-lfs clean -- %f
	smudge = git-lfs smudge -- %f
	process = git-lfs filter-process
	required = true
[commit]
	gpgsign = true
[init]
	defaultBranch = master
[credential "https://github.com"]
	helper = 
	helper = !/opt/homebrew/bin/gh auth git-credential
[credential "https://gist.github.com"]
	helper = 
	helper = !/opt/homebrew/bin/gh auth git-credential
